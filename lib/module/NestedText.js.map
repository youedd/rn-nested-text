{"version":3,"sources":["NestedText.tsx"],"names":["React","Text","Parser","NestedText","children","textProps","props","parsed","useMemo","parse","renderNestedText","nestedText","map","text","index","tag"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAgC,cAAhC;AACA,SAASC,MAAT,QAAkC,UAAlC;;AAQA,MAAMC,UAAqC,GAAG,QAAuC;AAAA,MAAtC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,SAAZ;AAAuB,OAAGC;AAA1B,GAAsC;AACnF,QAAMC,MAAM,GAAGP,KAAK,CAACQ,OAAN,CAAc,MAAM;AACjC,WAAON,MAAM,CAACO,KAAP,CAAaL,QAAb,CAAP;AACD,GAFc,EAEZ,CAACA,QAAD,CAFY,CAAf;AAIA,sBAAO,oBAAC,IAAD,EAAUE,KAAV,EAAkBI,gBAAgB,CAACH,MAAD,EAASF,SAAT,CAAlC,CAAP;AACD,CAND;;AAQA,MAAMK,gBAAgB,GAAG,UACvBC,UADuB,EAGS;AAAA,MADhCN,SACgC,uEADR,EACQ;AAChC,SAAOM,UAAU,CAACC,GAAX,CAAe,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACrC,QAAI,OAAOD,IAAP,KAAgB,QAApB,EAA8B;AAC5B,aAAOA,IAAP;AACD;;AAED,UAAMP,KAAK,GAAGD,SAAS,CAACQ,IAAI,CAACE,GAAN,CAAvB;AAEA,wBACE,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAED;AAAX,OAAsBR,KAAtB,GACGI,gBAAgB,CAACG,IAAI,CAACT,QAAN,EAAgBC,SAAhB,CADnB,CADF;AAKD,GAZM,CAAP;AAaD,CAjBD;;AAmBA,eAAeF,UAAf","sourcesContent":["import React from 'react'\nimport { Text, TextProps } from 'react-native'\nimport { Parser, TextGroup } from './parser'\n\ntype TextsProps = Record<string, TextProps> | undefined\n\nexport interface NestedTextProps extends TextProps {\n  children: string\n  textProps?: TextsProps\n}\nconst NestedText: React.FC<NestedTextProps> = ({ children, textProps, ...props }) => {\n  const parsed = React.useMemo(() => {\n    return Parser.parse(children)\n  }, [children])\n\n  return <Text {...props}>{renderNestedText(parsed, textProps)}</Text>\n}\n\nconst renderNestedText = (\n  nestedText: Array<string | TextGroup>,\n  textProps: TextsProps = {}\n): Array<string | JSX.Element> => {\n  return nestedText.map((text, index) => {\n    if (typeof text === 'string') {\n      return text\n    }\n\n    const props = textProps[text.tag]\n\n    return (\n      <Text key={index} {...props}>\n        {renderNestedText(text.children, textProps)}\n      </Text>\n    )\n  })\n}\n\nexport default NestedText\n"]}